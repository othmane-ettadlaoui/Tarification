<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 1 Études statistiques | La tarification a priori</title>
<meta name="author" content="Abdoul Oudouss DIAKITE, Othmane ETTADLAOUI">
<meta name="description" content="Cette partie de ce document sera consacrée à l’étude statistique de notre jeu de données. Pour commencer nous allons calculer la somme totale des sinistres par police. library(haven) database &lt;-...">
<meta name="generator" content="bookdown 0.26 with bs4_book()">
<meta property="og:title" content="Chapter 1 Études statistiques | La tarification a priori">
<meta property="og:type" content="book">
<meta property="og:description" content="Cette partie de ce document sera consacrée à l’étude statistique de notre jeu de données. Pour commencer nous allons calculer la somme totale des sinistres par police. library(haven) database &lt;-...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 1 Études statistiques | La tarification a priori">
<meta name="twitter:description" content="Cette partie de ce document sera consacrée à l’étude statistique de notre jeu de données. Pour commencer nous allons calculer la somme totale des sinistres par police. library(haven) database &lt;-...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">La tarification a priori</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Introduction</a></li>
<li><a class="active" href="etudestats.html"><span class="header-section-number">1</span> Études statistiques</a></li>
<li><a class="" href="cross.html"><span class="header-section-number">2</span> Cross-references</a></li>
<li><a class="" href="parts.html"><span class="header-section-number">3</span> Parts</a></li>
<li><a class="" href="footnotes-and-citations.html"><span class="header-section-number">4</span> Footnotes and citations</a></li>
<li><a class="" href="blocks.html"><span class="header-section-number">5</span> Blocks</a></li>
<li><a class="" href="sharing-your-book.html"><span class="header-section-number">6</span> Sharing your book</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="etudestats" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> Études statistiques<a class="anchor" aria-label="anchor" href="#etudestats"><i class="fas fa-link"></i></a>
</h1>
<p>Cette partie de ce document sera consacrée à l’étude statistique de notre jeu de données.
Pour commencer nous allons calculer la somme totale des sinistres par police.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://haven.tidyverse.org">haven</a></span><span class="op">)</span>
<span class="va">database</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/read_sas.html">read_sas</a></span><span class="op">(</span><span class="st">"Data/base5.sas7bdat"</span>, 
    <span class="cn">NULL</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="va">database</span><span class="op">$</span><span class="va">SumSINAPS</span> <span class="op">&lt;-</span> <span class="va">database</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"SINAP"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">.</span>, <span class="fl">1</span>, <span class="va">sum</span><span class="op">)</span></code></pre></div>
<p>Nous venons de créer avec le code précédent une nouvelle colonne dans la base de données <code>data</code> que nous avons appelé <code>SumSINAPS</code>.
On peut facilement faire un sommaire de la somme des sinistres avec la fonction <code>summary</code> afin de connaître les mesures de tendance de cette variable.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">database</span><span class="op">$</span><span class="va">SumSINAPS</span><span class="op">)</span>
<span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="co">#&gt;   0.000   0.000   1.000   1.385   2.000  12.000</span></code></pre></div>
<div id="tests-statistiques" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Tests statistiques<a class="anchor" aria-label="anchor" href="#tests-statistiques"><i class="fas fa-link"></i></a>
</h2>
<p>Nous allons faire des testes statistiques histoire de connaître quelle loi suit la somme totale des sinistres <code>SumSINAPS</code></p>
<div id="tests-dadéquation" class="section level3" number="1.1.1">
<h3>
<span class="header-section-number">1.1.1</span> Tests d’adéquation<a class="anchor" aria-label="anchor" href="#tests-dad%C3%A9quation"><i class="fas fa-link"></i></a>
</h3>
<p>Les tests d’adéquation servent à tester si un échantillon est distribué selon une loi
de probabilité donnée. Ils permettent de décider, avec un seuil d’erreur <span class="math inline">\(\alpha\)</span> spécifié, si les écarts présentés par l’échantillon par rapport aux valeurs théoriques attendues sont dûs au hasard ou sont au contraire significatifs.<br>
Pour faire les tests, nous allons générer une variable aléatoire <span class="math inline">\(X\)</span> suivant une loi choisie, puis tester si la somme totale des sinistres <code>SumSINAPS</code> est de même loi.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">SumSINAPS</span> <span class="op">&lt;-</span> <span class="va">database</span><span class="op">$</span><span class="va">SumSINAPS</span></code></pre></div>
<div id="loi-de-poisson" class="section level4" number="1.1.1.1">
<h4>
<span class="header-section-number">1.1.1.1</span> Loi de poisson<a class="anchor" aria-label="anchor" href="#loi-de-poisson"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Generer une v.a de longueur indentique a celle de SumSINAPS et suivant la loi de poisson</span>
<span class="va">X</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html">rpois</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">SumSINAPS</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">SumSINAPS</span><span class="op">)</span><span class="op">)</span>
<span class="co">#test de poisson</span>
<span class="fu"><a href="https://rdrr.io/r/stats/ks.test.html">ks.test</a></span><span class="op">(</span><span class="va">SumSINAPS</span>,<span class="va">X</span><span class="op">)</span>
<span class="co">#&gt; Warning in ks.test(SumSINAPS, X): p-value will be</span>
<span class="co">#&gt; approximate in the presence of ties</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Two-sample Kolmogorov-Smirnov test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  SumSINAPS and X</span>
<span class="co">#&gt; D = 0.056647, p-value &lt; 2.2e-16</span>
<span class="co">#&gt; alternative hypothesis: two-sided</span></code></pre></div>
<p>La <span class="math inline">\(p\)</span>-<span class="math inline">\(value\)</span> est inférieure à <span class="math inline">\(0.5\)</span> donc on rejette l’hypothèse <span class="math inline">\(H_0\)</span> selon laquelle la somme des sinistres suit une loi de poisson.</p>
</div>
<div id="loi-de-loi-normale" class="section level4" number="1.1.1.2">
<h4>
<span class="header-section-number">1.1.1.2</span> Loi de Loi normale<a class="anchor" aria-label="anchor" href="#loi-de-loi-normale"><i class="fas fa-link"></i></a>
</h4>
<p>On peut tester graphiquement si une variable suit une loi normale avec la fonction <code>qqnorm</code>. Si le nuage de point s’apparente à une droite alors la variable pourrait suivre une loi normale sinon on rejette cette hypothèse.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/qqnorm.html">qqnorm</a></span><span class="op">(</span><span class="va">SumSINAPS</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="01-intro_files/figure-html/unnamed-chunk-6-1.png" width="672"></div>
<p>Il est très difficile de conclure à partir d’un graphe qqnorm si une variable pourrait effectivement suivre une loi normale. D’ailleur c’est pourquoi il est préférable d’utiliser le test de normalité de Carlos Jarque et Anil K. Bera appelé Jarque–Bera test. Sur R, ce test peut être effectué avec la fonction <code><a href="https://rdrr.io/pkg/tseries/man/jarque.bera.test.html">jarque.bera.test()</a></code> disponible dans le package <code>tseries</code>.
<span class="math inline">\(\begin{cases}  H_0: Les\; résidus\; suivent\; une\; loi\; normale\\  H_1: Les \;résidus\; ne\; suivent\; pas\; une\; loi\; normale \end{cases}\)</span></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#install.packages("tseries")</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">tseries</span><span class="op">)</span>
<span class="co">#&gt; Registered S3 method overwritten by 'quantmod':</span>
<span class="co">#&gt;   method            from</span>
<span class="co">#&gt;   as.zoo.data.frame zoo</span>
<span class="fu"><a href="https://rdrr.io/pkg/tseries/man/jarque.bera.test.html">jarque.bera.test</a></span><span class="op">(</span><span class="va">SumSINAPS</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Jarque Bera Test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  SumSINAPS</span>
<span class="co">#&gt; X-squared = 8625.6, df = 2, p-value &lt; 2.2e-16</span></code></pre></div>
<p>Le test précédent indique que la <span class="math inline">\(p\)</span>-<span class="math inline">\(value\)</span> est inférieure largement à <span class="math inline">\(0.5\)</span>, on rejette alors l’hypothèse <span class="math inline">\(H_0\)</span> de normalité de <code>SumSINAPS</code> avec un niveau de confiance de <span class="math inline">\(95%\)</span></p>

</div>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="index.html">Introduction</a></div>
<div class="next"><a href="cross.html"><span class="header-section-number">2</span> Cross-references</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#etudestats"><span class="header-section-number">1</span> Études statistiques</a></li>
<li>
<a class="nav-link" href="#tests-statistiques"><span class="header-section-number">1.1</span> Tests statistiques</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#tests-dad%C3%A9quation"><span class="header-section-number">1.1.1</span> Tests d’adéquation</a></li></ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/01-intro.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/01-intro.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>La tarification a priori</strong>" was written by Abdoul Oudouss DIAKITE, Othmane ETTADLAOUI. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
